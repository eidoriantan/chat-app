<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <meta name="author" content="Adriane Justine Tan">
  <meta name="description" content="Chat with another anonymous users">
  <meta name="keywords" content="browser, web, chat, message, anonymous, online">
  <meta name="theme-color" content="#24292e">
  <meta name="msapplication-TileColor" content="#24292e">

  <link href="/LICENSE.txt" rel="license">
  <link href="/site.webmanifest" rel="manifest">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/css/chat.css" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js" integrity="sha384-1CmrxMRARb6aLqgBO7yyAxTOQE2AKb9GfXnEo760AUcUmFx3ibVJJAzGytlQcNXd" crossorigin="anonymous"></script>
  <script src="/assets/js/chat.js"></script>

  <title>Chat</title>
</head>

<body>
  <header class="navbar navbar-dark bg-dark">
    <span class="navbar-brand">Chat</span>
  </header>

  <main>
    <div class="d-flex flex-column flex-md-row justify-content-around w-75 mx-auto my-5">
      <div class="d-flex flex-column flex-grow-1">
        <div class="card">
          <header class="card-header">Chatbox</header>
          <ul id="messages" class="list-group list-group-flush overflow-auto chat-box"></ul>
        </div>

        <form id="send-form" action="" method="GET" class="mt-3">
          <div class="form-group">
            <label for="message">Message:</label>
            <textarea id="message" name="message" rows="3" class="form-control"></textarea>
          </div>

          <button type="submit" class="btn btn-primary">Send</button>
          <button type="reset" class="btn btn-secondary">Clear</button>
        </form>
      </div>

      <div class="d-flex flex-column my-2 mx-4">
        <div class="d-flex flex-column my-2">
          <div class="mx-2">Online users: <span id="online-users">0</span></div>
        </div>

        <form id="sender-form" action="" method="GET" class="d-flex flex-column">
          <h3>Settings</h3>
          <div class="form-group">
            <label for="sender-name">Nickname:</label>
            <input id="sender-name" name="sender-name" type="text" value="Anonymous" class="form-control" required>
          </div>

          <div class="form-group">
            <label for="channel">Channel:</label>
            <input id="channel" name="channel" type="number" value="0" class="form-control" required>
          </div>

          <button type="submit" class="btn btn-primary">Save</button>
        </form>
      </div>
    </div>

    <template id="message-template">
      <li class="list-group-item">
        <div class="d-flex justify-content-between w-100">
          <div class="d-flex flex-row">
            <h6 class="mb-1" data-temp="sender"></h6>
            <small class="text-muted ml-2" data-temp="sender-id"></small>
          </div>
          <small data-temp="date"></small>
        </div>
        <p data-temp="message"></p>
      </li>
    </template>

    <template id="join-template">
      <li class="list-group-item">
        <div class="d-flex flex-row text-muted">
          A new user had joined: <i class="ml-2" data-temp="user-id"></i>
        </div>
      </li>
    </template>

    <template id="leave-template">
      <li class="list-group-item">
        <div class="d-flex flex-row text-danger">
          User <i class="mx-2" data-temp="user-id"></i> leaves the channel
        </div>
      </li>
    </template>
  </main>

  <footer class="d-flex justify-content-center my-3">
    <span>Copyright &copy; 2020, <a href="https://eidoriantan.tech">eidoriantan</a></span>
  </footer>
</body>
</html>
